<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.4.0 -->
    <script>window.materialVersion = "1.4.0"</script>

    <!-- Title -->
    
    <title>
        
            Java反射(Reflection) | 
        
        微医系统架构技术博客
    </title>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    
    
    
    
    
    
        <link rel="dns-prefetch" href="https://s95.cnzz.com"/>
    
    
    
    
    

    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="IOTA">
    <meta name="description" itemprop="description" content="Java中很多框架和应用都会使用反射，本文简单的介绍了Java的反射。">
    <meta name="keywords" content="null,Java,Manual">

    <!-- Site Verification -->
    
    

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/favicon.ico">
    <link rel="icon" sizes="192x192" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/favicon.ico">

    <!--iOS -->
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="微医系统架构技术博客">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://weiyi.tech">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Java反射(Reflection) | 微医系统架构技术博客">
    <meta property="og:image" content="/favicon.ico" />
    <meta property="og:description" content="Java中很多框架和应用都会使用反射，本文简单的介绍了Java的反射。">
    <meta property="og:article:tag" content="Java"> <meta property="og:article:tag" content="Manual"> 

    
        <meta property="article:published_time" content="Mon Jun 26 2017 20:08:59 GMT+0800" />
        <meta property="article:modified_time" content="Fri Jul 07 2017 00:22:55 GMT+0800" />
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:title" content="Java反射(Reflection) | 微医系统架构技术博客">
    <meta name="twitter:description" content="Java中很多框架和应用都会使用反射，本文简单的介绍了Java的反射。">
    <meta name="twitter:image" content="/favicon.ico">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="http://weiyi.tech" />

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://weiyi.tech/2017/06/26/java/basic/Manual-Java_Reflection-20170626/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "微医系统架构技术博客",
        "logo": "/favicon.ico"
    },
    "author": {
        "@type": "Person",
        "name": "IOTA",
        "image": {
            "@type": "ImageObject",
            "url": "/favicon.ico"
        },
        "description": "任何足够先进的技术都等同于魔术"
    },
    "headline": "Java反射(Reflection)",
    "url": "http://weiyi.tech/2017/06/26/java/basic/Manual-Java_Reflection-20170626/index.html",
    "datePublished": "Mon Jun 26 2017 20:08:59 GMT+0800",
    "dateModified": "Fri Jul 07 2017 00:22:55 GMT+0800",
    "description": "Java中很多框架和应用都会使用反射，本文简单的介绍了Java的反射。",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://weiyi.tech"
    }
}
</script>


    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(key){try{localStorage.removeItem(key)}catch(e){}};lsloader.setLS=function(key,val){try{localStorage.setItem(key,val)}catch(e){}};lsloader.getLS=function(key){var val="";try{val=localStorage.getItem(key)}catch(e){val=""}return val};versionString="/*"+materialVersion+"*/";lsloader.clean=function(){try{var keys=[];for(var i=0;i<localStorage.length;i++){keys.push(localStorage.key(i))}keys.forEach(function(key){var data=lsloader.getLS(key);if(data&&data.indexOf(versionString)===-1){lsloader.removeLS(key)}})}catch(e){}};lsloader.clean();lsloader.load=function(jsname,jspath,cssonload){cssonload=cssonload||function(){};var code;code=this.getLS(jsname);if(code&&code.indexOf(versionString)===-1){this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}if(code){var versionNumber=code.split(versionString)[0];if(versionNumber!=jspath){console.log("reload:"+jspath);this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}code=code.split(versionString)[1];if(/\.js?.+$/.test(versionNumber)){this.jsRunSequence.push({name:jsname,code:code});this.runjs(jspath,jsname,code)}else{document.getElementById(jsname).appendChild(document.createTextNode(code));cssonload()}}else{this.requestResource(jsname,jspath,cssonload)}};lsloader.requestResource=function(name,path,cssonload){var that=this;if(/\.js?.+$/.test(path)){this.iojs(path,name,function(path,name,code){that.setLS(name,path+versionString+code);that.runjs(path,name,code)})}else if(/\.css?.+$/.test(path)){this.iocss(path,name,function(code){document.getElementById(name).appendChild(document.createTextNode(code));that.setLS(name,path+versionString+code)},cssonload)}};lsloader.iojs=function(path,jsname,callback){var that=this;that.jsRunSequence.push({name:jsname,code:""});try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(path,jsname,xhr.response);return}}that.jsfallback(path,jsname)}};xhr.send(null)}catch(e){that.jsfallback(path,jsname)}};lsloader.iocss=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.iofonts=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.runjs=function(path,name,code){if(!!name&&!!code){for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code=code}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var script=document.createElement("script");script.appendChild(document.createTextNode(this.jsRunSequence[0].code));script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var that=this;var script=document.createElement("script");script.src=this.jsRunSequence[0].path;script.type="text/javascript";this.jsRunSequence[0].status="loading";script.onload=function(){that.jsRunSequence.shift();if(that.jsRunSequence.length>0){that.runjs()}};document.body.appendChild(script)}};lsloader.tagLoad=function(path,name){this.jsRunSequence.push({name:name,code:"",path:path,status:"failed"});this.runjs()};lsloader.jsfallback=function(path,name){if(!!this.jsnamemap[name]){return}else{this.jsnamemap[name]=name}for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code="";this.jsRunSequence[k].status="failed";this.jsRunSequence[k].path=path}}this.runjs()};lsloader.cssfallback=function(path,name,cssonload){if(!!this.cssnamemap[name]){return}else{this.cssnamemap[name]=1}var link=document.createElement("link");link.type="text/css";link.href=path;link.rel="stylesheet";link.onload=link.onerror=cssonload;var root=document.getElementsByTagName("script")[0];root.parentNode.insertBefore(link,root)};lsloader.runInlineScript=function(scriptId,codeId){var code=document.getElementById(codeId).innerText;this.jsRunSequence.push({name:scriptId,code:code});this.runjs()};lsloader.loadCombo=function(jslist){var updateList="";var requestingModules={};for(var k in jslist){var LS=this.getLS(jslist[k].name);if(!!LS){var version=LS.split(versionString)[0];var code=LS.split(versionString)[1]}else{var version=""}if(version==jslist[k].path){this.jsRunSequence.push({name:jslist[k].name,code:code,path:jslist[k].path})}else{this.jsRunSequence.push({name:jslist[k].name,code:null,path:jslist[k].path,status:"comboloading"});requestingModules[jslist[k].name]=true;updateList+=(updateList==""?"":";")+jslist[k].path}}var that=this;if(!!updateList){var xhr=new XMLHttpRequest;xhr.open("get",combo+updateList,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){that.runCombo(xhr.response,requestingModules);return}}else{for(var i in that.jsRunSequence){if(requestingModules[that.jsRunSequence[i].name]){that.jsRunSequence[i].status="failed"}}that.runjs()}}};xhr.send(null)}this.runjs()};lsloader.runCombo=function(comboCode,requestingModules){comboCode=comboCode.split("/*combojs*/");comboCode.shift();for(var k in this.jsRunSequence){if(!!requestingModules[this.jsRunSequence[k].name]&&!!comboCode[0]){this.jsRunSequence[k].status="comboJS";this.jsRunSequence[k].code=comboCode[0];this.setLS(this.jsRunSequence[k].name,this.jsRunSequence[k].path+versionString+comboCode[0]);comboCode.shift()}}this.runjs()}})();</script>

    <!-- Import CSS & jQuery -->
    
        <style id="css/material.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/material.min.css","/css/material.min.css?fJTiM/K1J3dWIruo3pxtAw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        <style id="css/style.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/style.min.css","/css/style.min.css?oCSEO3ST+aEypEwttTDI9g==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        
        
            <style>
    
    
    
    
    
    
    
    
    
    
    
</style>

        
        <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"rel="stylesheet">


        <script>lsloader.load("js/jquery.min.js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==")</script>
    
    
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Analytics -->
    <div style="display: none;">
    <script src="//s95.cnzz.com/z_stat.php?id=1262696393&web_id=1262696393" language="JavaScript"></script>
</div>

    <!-- Custom Head -->
    
</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    
    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#简介"><span class="post-toc-number">1.</span> <span class="post-toc-text">简介</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Java反射的机制的主要作用："><span class="post-toc-number">1.1.</span> <span class="post-toc-text">Java反射的机制的主要作用：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#不足"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">不足</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#类"><span class="post-toc-number">2.</span> <span class="post-toc-text">类</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Class的获取方式"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">Class的获取方式</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Class的方法"><span class="post-toc-number">3.</span> <span class="post-toc-text">Class的方法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#获取父类"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">获取父类</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#获取Package"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">获取Package</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#修饰符"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">修饰符</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#泛型的参数"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">泛型的参数</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#获取所有实现的接口"><span class="post-toc-number">3.5.</span> <span class="post-toc-text">获取所有实现的接口</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#操作对象"><span class="post-toc-number">4.</span> <span class="post-toc-text">操作对象</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#获取-设置公共属性"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">获取/设置公共属性</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#获取-设置私有成员变量"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">获取/设置私有成员变量</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#调用公共方法"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">调用公共方法</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#调用私有方法"><span class="post-toc-number">4.4.</span> <span class="post-toc-text">调用私有方法</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#构造函数"><span class="post-toc-number">4.5.</span> <span class="post-toc-text">构造函数</span></a></li></ol></li></ol>
        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>
    





<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                Java反射(Reflection)
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar-white.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>IOTA</strong>
        <span>6月 26, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAAC3klEQVR42u3aQW7jQAwEQP//0841QGCpScqxPFM6LbxeaUoBwiWbj+eW1wMbGxsbGxsbGxv7luxHfP39/u9Pkru9PFDrifmZsbGxsXdgn/zqDw59/Hnymnp3yE+FjY2NvQP7uIS8KjnJ45MiVH1Z5TNjY2NjY8eFJD/KpB3CxsbGxr6K3St4x9/BxsbGxu6xkwHNy+F7MqAvRgXJgOmfZmnY2NjYt2dPisen/vyBfBsbGxv7luzyCmO8jnPtd57jCxsbG3tVdr4uUw13q6OiyUs/bl2wsbGxd2BPhv55samOoqqt0ckPEhsbG3tRdn6sfEw/L07VEhu9dGxsbOxF2dVg4H2h73yodDKcwsbGxt6A3eNFj2yNqJIXWvhbbGxs7EXZ87F7NRjI497qvy3n29jY2NiLspPh0aT89IZK1dgAGxsbex/2fKh0XMCqha06tPpYPICNjY19G3Z14J6/iJydxwDV5R5sbGzsfdiT5cvei5hgmqMrbGxs7KXZvUFPXvCq46Reg/TGVgQbGxv7q9j5QkzeSDziKw8hypEwNjY29qLs+X/0e0FCHjBUV39GqQg2Njb217LztqHaclRbkaRw9haDsLGxsddmVwvJZBGnWqjmwQA2Njb22uy8DORjpnmc0HviaGUHGxsbewn2fBCfAPKSkzdLo00lbGxs7C9n58VmvtBzbQw8WtnBxsbGXohdXdbpjZl6Ee9VDQ82Njb2buz80NVRUS8GnhRCbGxs7B3YE141Ku7duVrGXj4RGxsbe1H2vEj01nQmEUX+crGxsbF3YL9v5TFvbJI790ZX2NjY2Puwk6KVjG/yT/KY9p/ybWxsbOwl2NX4thoDvHuodNIIYWNjY2O3Clu+ZNNrhEZBLzY2Nvb27GrZ65W0XoG8uBXBxsbG/hJ2PlQ6Pm4eKkxI+R2wsbGxd2D3FnHy8DVvWkawaiuCjY2NvQR7nwsbGxsbGxsbGxv7NtcPEP7DppdT8x0AAAAASUVORK5CYII=">
    
</ul>
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/Java/">Java</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Manual/">Manual</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Java反射(Reflection)&url=http://weiyi.tech/2017/06/26/java/basic/Manual-Java_Reflection-20170626/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Java反射(Reflection)&url=http://weiyi.tech/2017/06/26/java/basic/Manual-Java_Reflection-20170626/index.html&via=IOTA" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://weiyi.tech/2017/06/26/java/basic/Manual-Java_Reflection-20170626/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://weiyi.tech/2017/06/26/java/basic/Manual-Java_Reflection-20170626/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>Java中很多框架和应用都会使用反射，本文简单的介绍了Java的反射。</p>
<a id="more"></a>
<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>Reflection和Introspection这两个机制都是作用在Java运行时。<br>每一个类在JVM运行时，都是一个Class实例，该对象描述了响应类的全部属性，包括Annotation、Field、Method等等。<br>Java的反射和内省都非常的使用，在比较流行的框架Spring和MyBatis中就使用了反射和内省。</p>
<p>先看一个简单的Demo</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.lang.reflect.Field;</div><div class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</div><div class="line"><span class="keyword">import</span> java.lang.reflect.Method;</div><div class="line"><span class="keyword">import</span> java.lang.reflect.Modifier;</div><div class="line"><span class="keyword">import</span> java.lang.reflect.Parameter;</div><div class="line"><span class="keyword">import</span> java.util.HashMap;</div><div class="line"><span class="keyword">import</span> java.util.Map;</div><div class="line"><span class="keyword">import</span> java.util.Objects;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StartDemo</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></div><div class="line">        <span class="keyword">throws</span> ClassNotFoundException, NoSuchMethodException, InvocationTargetException, IllegalAccessException &#123;</div><div class="line">        Class&lt;HashMap&gt; mapClazz = (Class&lt;HashMap&gt;) Class.forName(<span class="string">"java.util.HashMap"</span>);</div><div class="line">        System.out.println(mapClazz.getName());</div><div class="line">        System.out.println(<span class="string">"------------------------------------------"</span>);</div><div class="line">        Method[] methods = mapClazz.getMethods();</div><div class="line">        <span class="keyword">for</span> (Method method : methods) &#123;</div><div class="line">            System.out.print(<span class="string">" "</span> + method.getName() + <span class="string">"("</span>);</div><div class="line">            Parameter[] parameters = method.getParameters();</div><div class="line">            <span class="keyword">for</span> (Parameter parameter : parameters) &#123;</div><div class="line">                System.out.print(parameter.getType().getName() + <span class="string">","</span>);</div><div class="line">            &#125;</div><div class="line">            System.out.println(<span class="string">");"</span>);</div><div class="line">        &#125;</div><div class="line">        System.out.println(<span class="string">"------------------------------------------"</span>);</div><div class="line">        Field[] fields = mapClazz.getDeclaredFields();</div><div class="line">        <span class="keyword">for</span> (Field field : fields) &#123;</div><div class="line">            System.out.println(<span class="string">" "</span> + Modifier.toString(field.getModifiers()) + <span class="string">" "</span> + field.getName());</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        Map&lt;String,String&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">        Method putMethod = mapClazz.getMethod(<span class="string">"put"</span>, Object.class,Object.class);</div><div class="line">        Method getMethod = mapClazz.getMethod(<span class="string">"get"</span>,Object.class);</div><div class="line">        putMethod.invoke(map,<span class="string">"hello"</span>,<span class="string">"world"</span>);</div><div class="line">        String world = (String) getMethod.invoke(map,<span class="string">"hello"</span>);</div><div class="line">        System.out.println(<span class="string">"------------------------------------------"</span>);</div><div class="line">        System.out.println(world);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这个示例中首先通过Class的描述符获取ClassLoader中对应的Class实例对象。<br>第二步，遍历该类可访问方法（包含父类继承的）。<br>第三步，遍历该类声明的属性（不包括父类声明的属性）。<br>第四步，获取Map接口的<code>put</code>方法，获取Map接口的<code>get</code>方法。通过反射得到的put方法将[“hello”:”world”]放入到map对象中，在通过反射得到的方法get，获得map中对应的value。</p>
<h4 id="Java反射的机制的主要作用："><a href="#Java反射的机制的主要作用：" class="headerlink" title="Java反射的机制的主要作用："></a>Java反射的机制的主要作用：</h4><ol>
<li>Jvm运行时校验类的信息。</li>
<li>Jvm运行时修改类或者对象的信息。</li>
<li>Jvm运行时动态创建对象实例。</li>
<li>Jvm运行时动态调用对象方法。</li>
<li>修改构造函数、方法、属性的访问权限。</li>
</ol>
<h4 id="不足"><a href="#不足" class="headerlink" title="不足"></a>不足</h4><ol>
<li>性能消耗<ul>
<li>由于反射是动态解析类的结构，所有不能执行包含了虚拟机优化的动作。因此，反射操作会比未使用反射的部分性能要差，应当避免在频繁调用的、性能敏感的代码块中使用反射。</li>
</ul>
</li>
<li>安全限制<ul>
<li>反射需要运行时的权限，当一个安全管理器内运行时，肯能是不存在该权限的。当代码必须在受限的安全上下文中调用时，这是一个重要的考虑因素，例如Applet。</li>
</ul>
</li>
<li>私有信息曝光<ul>
<li>由于反射允许非反射代码执行代码操作，这可能导致非法操作，例如访问私有（private）属性和变量，使用反射可能导致意外的副作用，可能是使代码功能失调和破坏可移植性。<br>反射会打破抽象设计，因此升级平台后可能导致不同的执行动作。</li>
</ul>
</li>
</ol>
<h3 id="类"><a href="#类" class="headerlink" title="类"></a>类</h3><p>在Java中，每个对象不是一个引用类型，就是一个原始类型。所有的引用类型都继承自<code>java.lang.Object</code>。类、枚举、数组和接口都是引用类型。<br>原始类型的固定集合是<code>boolean</code>、<code>char</code>、<code>byte</code>、<code>short</code>、<code>int</code>、<code>long</code>、<code>float</code>、<code>double</code>。<br>对于每种类型，JVM都会实例化一个不可变的<code>java.lang.Class</code>实例，该实例提供了一系列的方法，检查该对象运行时的属性（包括成员和类型信息）。<br><code>java.lang.Class</code>还提供了创建新类和新对象的能力。最重要的是，它是所有反射接口的入口。</p>
<h4 id="Class的获取方式"><a href="#Class的获取方式" class="headerlink" title="Class的获取方式"></a>Class的获取方式</h4><p>所有反射操作的入口，都是<code>java.lang.Class</code>。有多种获取<code>java.lang.Class</code>对象的方法，使用何种，取决于代码是否有权访问该类的对象、或者该类的名称、或者一个类型、或者一个已有的<code>java.lang.Class</code>对象。</p>
<p>可以获取<code>java.lang.Class</code>的方法和描述如下：</p>
<ol>
<li>Object.getClass()</li>
</ol>
<p>如果有一个该类的实例，获取<code>Class</code>最简单的方法就是通过调用对象的<code>getClass()</code>方法获取。这只适用于引用类型的对象。<br>示例：</p>
<blockquote>
<p>Class stringClazz = “foo”.getClass()</p>
</blockquote>
<ol>
<li><code>.class</code>语法</li>
</ol>
<p>如果不能访问对象实例，可以访问对象的类型，那么可以通过”Class.class”语法获取Class实例。这个语法可用于原始类型和引用数据类型。<br>示例：</p>
<blockquote>
<p>Class intClazz = int.class;</p>
<p>Class mapClazz = java.util.Map.class;</p>
</blockquote>
<ol>
<li><code>java.lang.Class.forName</code>方法</li>
</ol>
<p>如果类的全限定名称是可用的，则可以通过静态方法<code>Class.forName</code>获取Class对象。该方法不适用于原始类型。<br>数组的全限定名称的语法可以通过”Class.getName()”方法获取。该语法适用于引用对象的数组和原始类型的数组。<br>示例：</p>
<blockquote>
<p>Class c = Class.forName(“com.duke.MyLocaleServiceProvider”);</p>
<p>Class cDoubleArray = Class.forName(“[D”);</p>
<p>Class cStringArray = Class.forName(“[[Ljava.lang.String;”);</p>
</blockquote>
<ol>
<li>原始类型包装类的TYPE属性</li>
</ol>
<p><code>.class</code>语法用于获取一个原始类型的Class对象是更为方便的方式；但还有其他获取该对象的方式。<br>每一个原始类型和void类型都有一个在<code>java.lang</code>包中的包装类，用于原始类型和引用类型之间的装箱和拆箱操作。<br>每一个对应的包装类，都有一个命名为<code>TYPE</code>的属性，这个属性的值就是被包装的原始类型的Class实例。</p>
<ol>
<li>Class.getSuperclass()</li>
</ol>
<p>返回该类的超类。</p>
<ol>
<li>Class.getClasses()</li>
</ol>
<p>返回该类声明的或者从超类声明继承的内部公共类、接口、枚举。</p>
<ol>
<li>Class.getDeclaredClasses()</li>
</ol>
<p>返回该类声明的内部类、接口、枚举。</p>
<ol>
<li>Class、Field、Method、Constructor.getDeclaringClass()</li>
</ol>
<p>返回声明该Class、Field、Method、Constructor的Class，如果Class不是被其他Class所声明的、或者是匿名内部类，则该接口返回null。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.lang.reflect.Field;</div><div class="line"></div><div class="line">Field f = System.class.getField(<span class="string">"out"</span>);</div><div class="line">Class c = f.getDeclaringClass();</div></pre></td></tr></table></figure>
<ol>
<li>Class.getEnclosingClass()</li>
</ol>
<p>返回声明该内部类、或者匿名类的Class对象。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">static</span> Object o = <span class="keyword">new</span> Object() &#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">m</span><span class="params">()</span> </span>&#123;&#125;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">static</span> Class&lt;?&gt; c = o.getClass().getEnclosingClass();</div></pre></td></tr></table></figure>
<h3 id="Class的方法"><a href="#Class的方法" class="headerlink" title="Class的方法"></a>Class的方法</h3><p>自身非私有：自身声明的成员，包括public、protected、default</p>
<p>继承的公共：父类声明的public成员</p>
<p>自身私有：自身声明的private成员</p>
<table>
<thead>
<tr>
<th>Class接口</th>
<th>自身非私有</th>
<th>继承的公共</th>
<th>自身私有</th>
</tr>
</thead>
<tbody>
<tr>
<td>getDeclaredField()</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr>
<td>getField()</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>getDeclaredFields()</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr>
<td>getFields()</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Class接口</th>
<th>自身非私有</th>
<th>继承的公共</th>
<th>自身私有</th>
</tr>
</thead>
<tbody>
<tr>
<td>getDeclaredMethod()</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr>
<td>getMethod()</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>getDeclaredMethods()</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr>
<td>getMethods()</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Class接口</th>
<th>自身非私有</th>
<th>继承的</th>
<th>自身私有</th>
</tr>
</thead>
<tbody>
<tr>
<td>getDeclaredConstructor()</td>
<td>Yes</td>
<td>N/A</td>
<td>Yes</td>
</tr>
<tr>
<td>getConstructor()</td>
<td>Yes</td>
<td>N/A</td>
<td>No</td>
</tr>
<tr>
<td>getDeclaredConstructors()</td>
<td>Yes</td>
<td>N/A</td>
<td>Yes</td>
</tr>
<tr>
<td>getConstructors()</td>
<td>Yes</td>
<td>N/A</td>
<td>No</td>
</tr>
</tbody>
</table>
<h4 id="获取父类"><a href="#获取父类" class="headerlink" title="获取父类"></a>获取父类</h4><p>通过Class实例的<code>getSuperClass()</code>方法可以获取class的父类，<br>如果该Class实例表示的是Object、一个接口、一个原始类型或者void类型，该方法会返回null。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Class&lt;?&gt; superClass = HashMap.class.getSuperclass();</div><div class="line">System.out.println(superClass);                        <span class="comment">// "class java.util.AbstractMap"</span></div><div class="line">System.out.println(Object.class.getSuperclass());      <span class="comment">// "null"</span></div><div class="line">System.out.println(String[][].class.getSuperclass());  <span class="comment">// "class java.lang.Object"</span></div></pre></td></tr></table></figure>
<h4 id="获取Package"><a href="#获取Package" class="headerlink" title="获取Package"></a>获取Package</h4><p><code>getPackage()</code>将返回该类的包信息。可以调用<code>Package.getName()</code>获取包名称。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">System.out.println(HashMap.class.getPackage().getName());</div></pre></td></tr></table></figure></p>
<p>Package 对象包含有关 Java 包的实现和规范的版本信息。<br>规范的版本号使用了一个由句点 “.” 分隔的十进制正整数组成的语法，例如 “2.0” 或 “1.2.3.4.5.6.7”。这允许使用可扩展的编号来表示主版本号、次版本号、缩微版本号，等等。</p>
<h4 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h4><p>Java中共有四种访问限制修饰符：private、protected、缺省、public</p>
<ul>
<li>private：私有,内部访问</li>
<li>缺省：是默认的,同一个package下可以访问。</li>
<li>protected：同一个packege或者子类可以访问</li>
<li>public:共有,都可以访问</li>
</ul>
<p>每种修饰符，具体可以修饰的组件如下：</p>
<table>
<thead>
<tr>
<th>修饰符</th>
<th>类</th>
<th>成员方法</th>
<th>构造方法</th>
<th>成员变量</th>
<th>局部变量</th>
</tr>
</thead>
<tbody>
<tr>
<td>abstract（抽象的）</td>
<td>√</td>
<td>√</td>
<td>－</td>
<td>－</td>
<td>－</td>
</tr>
<tr>
<td>static （静态的）</td>
<td>√</td>
<td>√</td>
<td>－</td>
<td>√</td>
<td>－</td>
</tr>
<tr>
<td>public（公共的）</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>－</td>
</tr>
<tr>
<td>protected（受保护的）</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>－</td>
<td>－</td>
</tr>
<tr>
<td>private（私有的）</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>√</td>
<td>－</td>
</tr>
<tr>
<td>synchronized（同步的）</td>
<td>－</td>
<td>√</td>
<td>－</td>
<td>－</td>
<td>－</td>
</tr>
<tr>
<td>native（本地的）</td>
<td>－</td>
<td>√</td>
<td>－</td>
<td>－</td>
<td>－</td>
</tr>
<tr>
<td>transient（暂时的）</td>
<td>－</td>
<td>－</td>
<td>－</td>
<td>√</td>
<td>－</td>
</tr>
<tr>
<td>volatie（易失的）</td>
<td>－</td>
<td>－</td>
<td>－</td>
<td>√</td>
<td>－</td>
</tr>
<tr>
<td>final（不要改变的）</td>
<td>√</td>
<td>√</td>
<td>－</td>
<td>√</td>
<td>√</td>
</tr>
</tbody>
</table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">System.out.println(Modifier.toString(HashMap.class.getModifiers())); </div><div class="line"><span class="comment">//"public"</span></div><div class="line">System.out.println(Modifier.toString(AbstractMap.class.getModifiers()));</div><div class="line"><span class="comment">//"public abstract"</span></div></pre></td></tr></table></figure>
<h4 id="泛型的参数"><a href="#泛型的参数" class="headerlink" title="泛型的参数"></a>泛型的参数</h4><p><code>getTypeParameters()</code>方法按照顺序返回定义该类所使用泛型参数信息。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Class&lt;?&gt; hashClass = HashMap.class.getSuperclass();</div><div class="line">TypeVariable&lt;?&gt;[] typeParameters = hashClass.getTypeParameters();</div><div class="line"><span class="keyword">for</span> (TypeVariable&lt;?&gt; typeVariable : typeParameters) &#123;</div><div class="line">    System.out.print(typeVariable+<span class="string">","</span>);</div><div class="line">&#125;</div><div class="line"><span class="comment">//输出 K,V,</span></div></pre></td></tr></table></figure></p>
<h4 id="获取所有实现的接口"><a href="#获取所有实现的接口" class="headerlink" title="获取所有实现的接口"></a>获取所有实现的接口</h4><p><code>getGenericInterfaces()</code>：该方法返回一个Type数组，携带了泛型信息。表示该class所有实现的接口集合。<br><code>getInterfaces()</code>：该方法返回一个Class数组。表示该class所有实现的接口集合。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Class&lt;?&gt; listClass = ArrayList.class;</div><div class="line">Type[] typeInterfaces = listClass.getGenericInterfaces();</div><div class="line">System.out.println(Arrays.toString(typeInterfaces));</div><div class="line"><span class="comment">// [java.util.List&lt;E&gt;, interface java.util.RandomAccess, interface java.lang.Cloneable, interface java.io.Serializable]</span></div><div class="line">Class[] interfaces = listClass.getInterfaces();</div><div class="line">System.out.println(Arrays.toString(interfaces));</div><div class="line"><span class="comment">//[interface java.util.List, interface java.util.RandomAccess, interface java.lang.Cloneable, interface java.io.Serializable]</span></div></pre></td></tr></table></figure>
<h3 id="操作对象"><a href="#操作对象" class="headerlink" title="操作对象"></a>操作对象</h3><p>首先声明一个Demo类<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">   </div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Person</span>&gt;</span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age = <span class="number">0</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">public</span> String name = <span class="string">"demo"</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * 无参公共构造函数</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(<span class="keyword">int</span> age, String name)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.age = age;</div><div class="line">        <span class="keyword">this</span>.name = name;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Person o)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.age - o.age;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> age;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">private</span> Person <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.age = age;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> name;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> Person <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.name = name;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">"Person&#123;"</span> + <span class="string">"age="</span> + age + <span class="string">", name='"</span> + name + <span class="string">'\''</span> + <span class="string">'&#125;'</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="获取-设置公共属性"><a href="#获取-设置公共属性" class="headerlink" title="获取/设置公共属性"></a>获取/设置公共属性</h4><p><code>get()</code>方法返回的是一个对象，所以原始类型的属性，会返回相应的包装类。<br> 如果属性是<code>static</code>的，那么方法的对象入参需要是<code>null</code>。</p>
<p>有一系列的<code>set*()</code>方法，用于设置不同的类型的属性，需要获取相应属性的类型，来确定使用正确的<code>set</code>方法。<br>如果属性是<code>final</code>的，则会抛出<code>java.lang.IllegalAccessException</code>。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Field field = Person.class.getField(<span class="string">"name"</span>);</div><div class="line">Person person = <span class="keyword">new</span> Person(<span class="number">1</span>, <span class="string">"demo-01"</span>);</div><div class="line">System.out.println(field.get(person)); <span class="comment">//demo-01</span></div><div class="line">field.set(person, <span class="string">"demo-02"</span>); <span class="comment">//设置成 demo-02</span></div><div class="line">System.out.println(field.get(person)); <span class="comment">//demo-01</span></div></pre></td></tr></table></figure></p>
<h4 id="获取-设置私有成员变量"><a href="#获取-设置私有成员变量" class="headerlink" title="获取/设置私有成员变量"></a>获取/设置私有成员变量</h4><p>私有的属性在类的外部是不能被访问的，但是使用反射，我们可以关闭私有属性的访问限制。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Field field = Person.class.getDeclaredField(<span class="string">"age"</span>);</div><div class="line">Person person = <span class="keyword">new</span> Person(<span class="number">1</span>, <span class="string">"demo-01"</span>);</div><div class="line">field.setAccessible(<span class="keyword">true</span>); <span class="comment">//关闭访问限制</span></div><div class="line">System.out.println(field.get(person)); <span class="comment">// 1</span></div><div class="line">field.set(person, <span class="number">2</span>); <span class="comment">//设置成 2</span></div><div class="line">System.out.println(field.get(person)); <span class="comment">//2</span></div></pre></td></tr></table></figure>
<h4 id="调用公共方法"><a href="#调用公共方法" class="headerlink" title="调用公共方法"></a>调用公共方法</h4><p>我们可以通过调用<code>Method.invoke()</code>方法来调用一个方法。<br>如果这个方法是一个<code>static</code>的方法，则相应的对象入参，需要设置为<code>null</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Method setMethod = Person.class.getMethod(<span class="string">"setName"</span>, String.class);</div><div class="line">Person person = <span class="keyword">new</span> Person(<span class="number">1</span>, <span class="string">"demo-01"</span>);</div><div class="line">System.out.println(setMethod.invoke(person, <span class="string">"demo-02"</span>));</div><div class="line">Method getMethod = Person.class.getMethod(<span class="string">"getName"</span>);</div><div class="line">System.out.println(getMethod.invoke(person)); <span class="comment">//demo-02</span></div></pre></td></tr></table></figure>
<h4 id="调用私有方法"><a href="#调用私有方法" class="headerlink" title="调用私有方法"></a>调用私有方法</h4><p>调用私有方法需要使用<code>setAccessible()</code>方法关闭访问限制。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Method setMethod = Person.class.getDeclaredMethod(<span class="string">"setAge"</span>, <span class="keyword">int</span>.class);</div><div class="line">Person person = <span class="keyword">new</span> Person(<span class="number">1</span>, <span class="string">"demo-01"</span>);</div><div class="line">setMethod.setAccessible(<span class="keyword">true</span>);<span class="comment">//关闭访问限制</span></div><div class="line">System.out.println(setMethod.invoke(person, <span class="number">2</span>));</div><div class="line">Method getMethod = Person.class.getDeclaredMethod(<span class="string">"getAge"</span>);</div><div class="line">getMethod.setAccessible(<span class="keyword">true</span>);<span class="comment">//关闭访问限制</span></div><div class="line">System.out.println(getMethod.invoke(person)); <span class="comment">//2</span></div></pre></td></tr></table></figure>
<h4 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h4><p>我们可以通过调用构造函数的<code>newInstance()</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//获取无参构造函数</span></div><div class="line">Constructor&lt;Person&gt; constructor = Person.class.getDeclaredConstructor();</div><div class="line">constructor.setAccessible(<span class="keyword">true</span>);<span class="comment">//关闭访问限制</span></div><div class="line">Person person = constructor.newInstance();</div><div class="line">System.out.println(person);<span class="comment">// Person&#123;age=0, name='demo'&#125;</span></div><div class="line"></div><div class="line"><span class="comment">//获取入参属性顺序是int.class、String.class的构造函数</span></div><div class="line">constructor = Person.class.getConstructor(<span class="keyword">int</span>.class, String.class);</div><div class="line">person = constructor.newInstance(<span class="number">1</span>, <span class="string">"demo-2"</span>);</div><div class="line">System.out.println(person);<span class="comment">// Person&#123;age=1, name='demo-2'&#125;</span></div></pre></td></tr></table></figure>
<ol>
<li><p><a href="http://tutorials.jenkov.com/java-reflection/index.html" target="_blank" rel="external">参考文章：http://tutorials.jenkov.com/java-reflection/index.html</a></p>
</li>
<li><p><a href="http://docs.oracle.com/javase/tutorial/reflect/index.html" target="_blank" rel="external">参考文章： http://docs.oracle.com/javase/tutorial/reflect/index.html</a></p>
</li>
</ol>
<div style="display: none;"><br>TODO:<br> 注解、泛型、数组<br></div>
    

    
</div>


                

                <!-- Post Comments -->
                
                    
                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/07/02/mysql/Manual-MySQL-20170702/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar-white.png" alt="IOTA's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        iota#guahao.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2017/07/">七月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/06/">六月 2017<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Database/">Database<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Program/">Program<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签云">
                
                    <i class="material-icons sidebar-material-icons">cloud</i>
                
                标签云
            </a>
        </li>
        
    
        <li>
            <a href="/timeline" title="时间轴">
                
                    <i class="material-icons sidebar-material-icons">list</i>
                
                时间轴
            </a>
        </li>
        
    
        <li>
            <a href="/about" title="我们">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                我们
            </a>
        </li>
        
            <li class="divider"></li>
        
    
        <li>
            <a href="/links" title="友情链接">
                
                    <i class="material-icons sidebar-material-icons">link</i>
                
                友情链接
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;2017&nbsp;-<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>微医系统架构技术博客
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->


    <script>lsloader.load("js/lazyload.min.js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==")</script>
    <script>lsloader.load("js/js.min.js","/js/js.min.js?oAl/+lvaqTFV31JXTmbrNA==")</script>



    <script>lsloader.load("js/nprogress.js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==")</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>













<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Window Load-->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->

<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Bing Background -->


<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.4.0 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
